# Claude Code 핵심 작업 및 워크플로우

Claude Code는 터미널에서 직접 작동하며, 프로젝트 컨텍스트를 이해하고 실제 작업을 수행합니다. 파일을 수동으로 컨텍스트에 추가할 필요 없이 Claude가 필요에 따라 코드베이스를 탐색합니다.

## 주요 기능

### 1. 익숙하지 않은 코드 이해하기
```
> 결제 처리 시스템이 무엇을 하는지 설명해줘
> 사용자 권한이 확인되는 곳을 찾아줘
> 캐싱 레이어가 어떻게 작동하는지 설명해줘
```

### 2. Git 작업 자동화
```
> 내 변경사항을 커밋해줘
> PR을 만들어줘
> 12월에 마크다운 테스트를 추가한 커밋이 무엇인지 찾아줘
> main 브랜치에 리베이스하고 병합 충돌을 해결해줘
```

### 3. 지능적인 코드 편집
```
> 회원가입 폼에 입력 유효성 검사를 추가해줘
> 로거를 새로운 API를 사용하도록 리팩토링해줘
> 워커 큐의 경쟁 조건을 수정해줘
```

### 4. 코드 테스트 및 디버깅
```
> 인증 모듈의 테스트를 실행하고 실패를 수정해줘
> 보안 취약점을 찾아서 수정해줘
> 이 테스트가 실패하는 이유를 설명해줘
```

### 5. 심층적 사고 유도하기
복잡한 문제의 경우, Claude에게 더 깊이 생각하도록 명시적으로 요청할 수 있습니다:
```
> 새로운 결제 서비스를 어떻게 설계해야 할지 생각해봐
> 인증 플로우의 엣지 케이스에 대해 깊이 생각해봐
```

Claude Code는 모델이 확장된 사고를 사용할 때 이를 표시합니다. 계획이 많이 필요한 작업의 경우 "생각해봐" 또는 "깊이 생각해봐"라고 능동적으로 요청할 수 있습니다. 

**팁**: 먼저 Claude에게 작업에 대해 알려주고 프로젝트에서 컨텍스트를 수집하게 한 다음, "생각해봐"라고 요청하여 계획을 세우도록 하는 것이 좋습니다.

사용하는 단어에 따라 Claude의 사고 깊이가 달라집니다. 예를 들어, "깊이 생각해봐"는 단순히 "생각해봐"보다 더 확장된 사고를 유발합니다.

### 6. CI 및 인프라 워크플로우 자동화
Claude Code는 헤드리스 실행을 위한 비대화형 모드를 제공합니다. 이는 스크립트, 파이프라인, Github Actions와 같은 비대화형 컨텍스트에서 Claude Code를 실행할 때 특히 유용합니다.

비대화형 모드를 사용하려면 `--print (-p)` 옵션을 사용하세요. 이 모드에서는 `ANTHROPIC_API_KEY` 환경 변수를 설정하여 사용자 정의 API 키를 제공할 수 있습니다.

**예시**:
```bash
export ANTHROPIC_API_KEY=sk_...
claude -p "README를 최신 변경사항으로 업데이트해줘" --allowedTools "Bash(git diff:*)" "Bash(git log:*)" Write --disallowedTools ...
```

비대화형 모드는 Claude가 사용할 수 있는 명령 세트를 사전 구성할 때 특히 유용합니다.